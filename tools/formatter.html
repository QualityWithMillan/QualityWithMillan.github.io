<html>
  <head>
    <title>Text Formatter</title>
    <style>
    /* Add some basic styling */
    body {
    font-family: Arial, sans-serif;
    }
  textarea {
  font-size: 16px;
  font-family: Arial, sans-serif;
  border: 1px solid gray;
  margin-bottom: 10px;
}

button {
  font-size: 16px;
  font-family: Arial, sans-serif;
  border: none;
  background-color: lightgray;
  padding: 5px 10px;
  cursor: pointer;
  margin-right: 10px;
}

button:hover {
  background-color: gray;
}

#output-text {
  font-size: 16px;
  font-family: Arial, sans-serif;
  border: 1px solid gray;
  padding: 10px;
  margin-bottom: 10px;
}


@keyframes click-animation {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
    100% {
      transform: scale(1);
    }
  }
  #copy-button:active {
    animation: click-animation 0.3s;
  }


    </style>
  </head>
  <body>
    <h1>Text Formatter</h1>
        <h3>Enter text then click one of the buttons below ⬇️</h3>
    <div>
      <textarea id="input-text" rows="4" cols="50"></textarea>
      <br>
      <button id="bold-button">𝗕𝗼𝗹𝗱</button>
      <button id="italic-button">𝐼𝑡𝑎𝑙𝑖𝑐</button>
      <button id="bold-italic-button">𝑩𝒐𝒍𝒅 𝑰𝒕𝒂𝒍𝒊𝒄</button>
      <button id="underline-button">𝚄̲𝚗̲𝚍̲𝚎̲𝚛̲𝚕̲𝚒̲𝚗̲𝚎̲</button>
      <br><br>
      <button id="strikethrough-button">𝑆̶𝑡̶𝑟̶𝑖̶𝑘̶𝑒̶𝑡̶ℎ̶𝑟̶𝑜̶𝑢̶𝑔̶ℎ̶</button>
      <button id="bold-strikethrough-button">𝐁̶𝐨̶𝐥̶𝐝̶ ̶𝐒̶𝐭̶𝐫̶𝐢̶𝐤̶𝐞̶</button>
      <button id="italic-strikethrough-button">𝐼̶𝑡̶𝑎̶𝑙̶𝑖̶𝑐̶ ̶𝑆̶𝑡̶𝑟̶𝑖̶𝑘̶𝑒̶</button>
      <br><br>
      <button id="bold-italic-strikethrough-button">𝘽̶𝙤̶𝙡̶𝙙̶ ̶𝙄̶𝙩̶𝙖̶𝙡̶𝙞̶𝙘̶</button>
      <button id="monospace-button">𝚖𝚘𝚗𝚘𝚜𝚙𝚊𝚌𝚎</button>
      
    </div>
    <h2>Output 👇</h2>
    <!-- <div id="output-text"></div> -->
    <br>

<textarea id="output-text" rows="4" cols="50"></textarea>
    <!-- <textarea id="output-text"></textarea> -->
    <br>
    <br>
    <button id="copy-button">Click to Copy 📑</button>
    <script>

let copyButton = document.getElementById("copy-button");
copyButton.addEventListener("click", copyToClipboard);

function copyToClipboard() {
  let outputText = document.getElementById("output-text").innerHTML;

  let tempInput = document.createElement("textarea");
  tempInput.value = outputText;
  document.body.appendChild(tempInput);
  tempInput.select();
  document.execCommand("copy");
  document.body.removeChild(tempInput);
}


      function applyFormat(format) {
      let inputText = document.getElementById("input-text").value;
      // console.log(toUnicodeVariant(inputText, 'b'));
      let outputText = '';
      // = toUnicodeVariant(inputText, 'b');

  switch (format) {
    case "bold":
      outputText = toUnicodeVariant(inputText, 'bs');
      break;
    case "italic":
      outputText = toUnicodeVariant(inputText, 'i');
      break;
    case "strikethrough":
      outputText = toUnicodeVariant(inputText, 'i','strike');
      break;
    case "underline":
      outputText = toUnicodeVariant(inputText,'' ,'underline');
      break;
    case "bold-strikethrough":
      outputText = toUnicodeVariant(inputText, 'b' ,'strike');
      break;
    case "bold-italic":
      outputText = toUnicodeVariant(inputText, 'bi');
      break;
    case "italic-strikethrough":
      outputText = toUnicodeVariant(inputText, 'i','strike');
      break;
    case "bold-italic-strikethrough":
      outputText = toUnicodeVariant(inputText, 'bis','strike');
      break; 
    case "monospace":
      outputText = toUnicodeVariant(inputText, 'm');
    break;

    } 

  document.getElementById("output-text").innerHTML = outputText;
}


let boldButton = document.getElementById("bold-button");
boldButton.addEventListener("click", () => applyFormat("bold"));

let italicButton = document.getElementById("italic-button");
italicButton.addEventListener("click", () => applyFormat("italic"));

let strikethroughButton = document.getElementById("strikethrough-button");
strikethroughButton.addEventListener("click", () => applyFormat("strikethrough"));

let underlineButton = document.getElementById("underline-button");
underlineButton.addEventListener("click", () => applyFormat("underline"));

//next line
let boldstrikethroughButton = document.getElementById("bold-strikethrough-button");
boldstrikethroughButton.addEventListener("click", () => applyFormat("bold-strikethrough"));

let boldItalicButton = document.getElementById("bold-italic-button");
boldItalicButton.addEventListener("click", () => applyFormat("bold-italic"));

let italicstrikethroughButton = document.getElementById("italic-strikethrough-button");
italicstrikethroughButton.addEventListener("click", () => applyFormat("italic-strikethrough"));

let boldItalicstrikethroughButton = document.getElementById("bold-italic-strikethrough-button");
boldItalicstrikethroughButton.addEventListener("click", () => applyFormat("bold-italic-strikethrough"));


let monospaceButton = document.getElementById("monospace-button");
monospaceButton.addEventListener("click", () => applyFormat("monospace"));



//actual logic to unicode 
// credits :  https://github.com/davidkonrad/toUnicodeVariant
function toUnicodeVariant(str, variant, flags) {

  const offsets = {
    m: [0x1d670, 0x1d7f6],
    b: [0x1d400, 0x1d7ce],
    i: [0x1d434, 0x00030],
    bi: [0x1d468, 0x00030],
    c: [0x0001d49c, 0x00030],
    bc: [0x1d4d0, 0x00030],
    g: [0x1d504, 0x00030],
    d: [0x1d538, 0x1d7d8],
    bg: [0x1d56c, 0x00030],
    s: [0x1d5a0, 0x1d7e2],
    bs: [0x1d5d4, 0x1d7ec],
    is: [0x1d608, 0x00030],
    bis: [0x1d63c, 0x00030],
    o: [0x24B6, 0x2460],
    on: [0x0001f150, 0x2460],
    p: [0x249c, 0x2474],
    q: [0x1f130, 0x00030],
    qn: [0x0001F170, 0x00030],
    w: [0xff21, 0xff10],
    u: [0x2090, 0xff10]
  }

  const variantOffsets = {
    'monospace': 'm',
    'bold' : 'b',
    'italic' : 'i',
    'bold italic' : 'bi',
    'script': 'c',
    'bold script': 'bc',
    'gothic': 'g',
    'gothic bold': 'bg',
    'doublestruck': 'd',
    'sans': 's',
    'bold sans' : 'bs',
    'italic sans': 'is',
    'bold italic sans': 'bis',
    'parenthesis': 'p',
    'circled': 'o',
    'circled negative': 'on',
    'squared': 'q',
    'squared negative': 'qn',
    'fullwidth': 'w'
  }

  // special characters (absolute values)
  const special = {
    m: {
      ' ': 0x2000,
      '-': 0x2013
    },
    i: {
      'h': 0x210e
    },
    g: {
      'C': 0x212d,
      'H': 0x210c,
      'I': 0x2111,
      'R': 0x211c,
      'Z': 0x2128
    },
    d: {
      'C': 0x2102,
      'H': 0x210D,
      'N': 0x2115,
      'P': 0x2119,
      'Q': 0x211A,
      'R': 0x211D,
      'Z': 0x2124
    },
    o: {
      '0': 0x24EA,
      '1': 0x2460,
      '2': 0x2461,
      '3': 0x2462,
      '4': 0x2463,
      '5': 0x2464,
      '6': 0x2465,
      '7': 0x2466,
      '8': 0x2467,
      '9': 0x2468,
    },
    on: {},
    p: {},
    q: {},
    qn: {},
    w: {}
  }
  //support for parenthesized latin letters small cases 
  //support for full width latin letters small cases 
  //support for circled negative letters small cases 
  //support for squared letters small cases 
  //support for squared letters negative small cases 
  ;['p', 'w', 'on', 'q', 'qn'].forEach(t => {
    for (var i = 97; i <= 122; i++) {
      special[t][String.fromCharCode(i)] = offsets[t][0] + (i-97)
    }
  })    

  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'
  const numbers = '0123456789'

  const getType = function(variant) {
    if (variantOffsets[variant]) return variantOffsets[variant]
    if (offsets[variant]) return variant
    return 'm' //monospace as default
  }
  const getFlag = function(flag, flags) {
    if (!flags) return false
    return flag.split('|').some(f => flags.split(',').indexOf(f) > -1)
  }

  const type = getType(variant)
  const underline = getFlag('underline|u', flags)
  const strike = getFlag('strike|s', flags)
  let result = ''

  for (let c of str) {
    let index
    if (special[type] && special[type][c]) c = String.fromCodePoint(special[type][c])
    if (type && (index = chars.indexOf(c)) > -1) {
      result += String.fromCodePoint(index + offsets[type][0]) 
    } else if (type && (index = numbers.indexOf(c)) > -1) {
      result += String.fromCodePoint(index + offsets[type][1]) 
    } else {
      result += c 
    }
    if (underline) result += '\u0332' // add combining underline
    if (strike) result += '\u0336' // add combining strike
  }
  return result
}


if (typeof module === 'object' && module && typeof module.exports === 'object') {
  module.exports = toUnicodeVariant
}

    </script>


  </body>
</html>